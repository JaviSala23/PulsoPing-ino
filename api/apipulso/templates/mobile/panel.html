{% extends "layout_mobile.html" %}
{% load static %}

{% block title %}Panel con jQuery Mobile{% endblock %}

{% block content %}
<style>
   
@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&display=swap');

    /* CSS personalizado para el diseño de múltiples relojes */
    .clock-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        padding: 20px;
    }
    .clock-container {
        position: relative;
        width: 250px;
        height: 250px;
        margin: auto;
        height: 250px; /* Ajusta la altura según sea necesario */
        -webkit-box-shadow: 0px -1px 40px 1px rgba(0,0,0,0.75);
-moz-box-shadow: 0px -1px 40px 1px rgba(0,0,0,0.75);
box-shadow: 0px -1px 40px 1px rgba(0,0,0,0.75);
    }
    .clock {
        background: rgb(59,58,180);
        background: linear-gradient(90deg, rgba(59,58,180,1) 0%, rgba(29,129,253,1) 50%, rgba(69,252,236,1) 100%); 
        background-size: cover;
        width: 100%;
        height: 100%;
        position: relative;
        border: 2px solid #000000; /* Opcional: Añade un borde para ver la dimensión del contenedor */
        border-radius: 100px;
    }
    .temperature {
        font-family: "Share Tech Mono", monospace;
        font-weight: 400;
        font-style: normal;
        position: absolute;
        top: 30%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 70px;
        color: #f3fb00;
        text-align: center;
    }
    .status {
        font-family: "Share Tech Mono", monospace;
        font-weight: 400;
        font-style: normal;
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        color: #dde802;
        text-align: center;
    }
</style>

<div data-role="page" id="dashboard" class="container">
    <div data-role="header" class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Dashboard</a>
    </div>

    <div data-role="content" class="mt-3">
        <div class="clock-grid">
            <!-- Ejemplo de múltiples relojes -->
            <div class="clock-container">
                <div class="clock">
                    
                    <div class="temperature" id="temp-1"></div>
                    <div class="status">
                        <div id="door-status-1">Puerta: Cerrada</div>
                        <div id="compressor-status-1">Compresor: Apagado</div>
                    </div>
                </div>
            </div>
            <div class="clock-container">
                <div class="clock">
                    <div class="temperature" id="temp-2">-</div>
                    <div class="status">
                        <div id="door-status-2">Puerta: Cerrada</div>
                        <div id="compressor-status-2">Compresor: Apagado</div>
                    </div>
                </div>
            </div>
            <!-- Añade más relojes según sea necesario -->
        </div>
    </div>

    <div data-role="footer" class="text-center bg-light py-2">
        <h4>{% block footer_text %}{% endblock %}</h4>
    </div>
</div>

<!-- JavaScript para actualizar los datos -->
<script>
    $(document).ready(function() {
        function updateData() {
            // Ejemplo de datos; en una aplicación real, estos vendrían de una API o base de datos
            const devices = [
                { temp: 4, isDoorOpen: false, isCompressorOn: true },
                { temp: 7, isDoorOpen: true, isCompressorOn: false }
                // Añade más dispositivos según sea necesario
            ];

            devices.forEach((device, index) => {
                $(`#temp-${index + 1}`).text(device.temp+"°");
                $(`#door-status-${index + 1}`).text(device.isDoorOpen ? 'Puerta: Abierta' : 'Puerta: Cerrada');
                $(`#compressor-status-${index + 1}`).text(device.isCompressorOn ? 'Compresor: Encendido' : 'Compresor: Apagado');
            });
        }

        updateData();
    });
</script>
{% endblock %}
